(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{XKfY:function(t,e,n){"use strict";n.r(e),n.d(e,"MembersModule",function(){return x});var a=n("ofXK"),c=n("PCNd"),r=n("tyNb");class s{constructor(){this.aGroup="All",this.sort="atypeAsc",this.pageNumber=1,this.pageSize=6}}var i=n("fXoL"),o=n("tk/3"),b=n("AytR"),m=n("lJxs");let l=(()=>{class t{constructor(t){this.http=t,this.baseUrl=b.a.apiUrl}getAttachments(t){let e=new o.e;return"All"!==t.aGroup&&(e=e.append("agroup",t.aGroup)),t.search&&(e=e.append("search",t.search)),e=e.append("sort",t.sort),e=e.append("pageIndex",t.pageNumber.toString()),e=e.append("pageSize",t.pageSize.toString()),this.http.get(this.baseUrl+"attachments",{observe:"response",params:e}).pipe(Object(m.a)(t=>t.body))}getAttachment(t){return this.http.get(this.baseUrl+"attachments/"+t)}getGroups(){return this.http.get(this.baseUrl+"attachments/groups")}}return t.\u0275fac=function(e){return new(e||t)(i.Xb(o.b))},t.\u0275prov=i.Jb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var p=n("/gyc"),u=n("3Pt+");let h=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Hb({type:t,selectors:[["app-attachment-item"]],inputs:{attachment:"attachment"},decls:15,vars:7,consts:[[1,"card","h-100","shadow-sm"],[1,"image","position-relative",2,"cursor","pointer"],[1,"img-fluid","bg-color",3,"src","alt"],[1,"d-flex","align-items-center","justify-content-center","hover-overlay"],["type","button",1,"btn","btn-light",3,"routerLink"],[1,"card-body","d-flex","flex-column"],[3,"routerLink"],[1,"text-uppercase"],[1,"truncate-p"]],template:function(t,e){1&t&&(i.Tb(0,"div",0),i.Tb(1,"div",1),i.Ob(2,"img",2),i.Tb(3,"div",3),i.Tb(4,"button",4),i.Bc(5,"View"),i.Sb(),i.Sb(),i.Sb(),i.Tb(6,"div",5),i.Tb(7,"p"),i.Bc(8),i.Sb(),i.Tb(9,"a",6),i.Tb(10,"h6",7),i.Bc(11),i.Sb(),i.Sb(),i.Tb(12,"p",8),i.Tb(13,"small"),i.Bc(14),i.Sb(),i.Sb(),i.Sb(),i.Sb()),2&t&&(i.Cb(2),i.jc("src",e.attachment.imageUrl,i.vc),i.jc("alt",e.attachment.aGroup),i.Cb(2),i.kc("routerLink","/members/",e.attachment.atId,""),i.Cb(4),i.Cc(e.attachment.aGroup),i.Cb(1),i.kc("routerLink","/members/",e.attachment.atId,""),i.Cb(2),i.Cc(e.attachment.aType),i.Cb(3),i.Cc(e.attachment.aDesc))},directives:[r.d,r.f],styles:[".btn[_ngcontent-%COMP%]{width:30%;height:40px}.image[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover{opacity:1}.image[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover   button[_ngcontent-%COMP%]{transform:none;opacity:1}.hover-overlay[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:0;left:0;background:#fff3;opacity:0;transition:all .5s}.hover-overlay[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{z-index:1000;transition:all .5s}.hover-overlay[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-of-type{transform:translateX(-20px)}.hover-overlay[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-of-type{transform:translateX(20px)}.bg-color[_ngcontent-%COMP%]{background-color:hsla(46,42%,88%,.125)}.truncate-p[_ngcontent-%COMP%]{display:-webkit-box;-webkit-line-clamp:4;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis}"]}),t})();var g=n("a4eG");const d=["search"];function f(t,e){if(1&t&&(i.Tb(0,"option",16),i.Bc(1),i.Sb()),2&t){const t=e.$implicit;i.ic("value",t.value),i.Cb(1),i.Dc(" ",t.name," ")}}function v(t,e){if(1&t){const t=i.Ub();i.Tb(0,"li",17),i.ac("click",function(){i.tc(t);const n=e.$implicit;return i.cc(2).onGroupSelected(n.aGroup)}),i.Bc(1),i.Sb()}if(2&t){const t=e.$implicit,n=i.cc(2);i.Fb("active",t.aGroup===n.membersParams.aGroup),i.ic("value",t.aGroup),i.Cb(1),i.Dc(" ",t.aGroup," ")}}function S(t,e){if(1&t){const t=i.Ub();i.Rb(0),i.Tb(1,"h5",10),i.Bc(2,"Sort"),i.Sb(),i.Tb(3,"select",11),i.ac("change",function(e){return i.tc(t),i.cc().onSortSelected(e.target.value)}),i.zc(4,f,2,2,"option",12),i.Sb(),i.Tb(5,"h5",13),i.Bc(6,"Groups"),i.Sb(),i.Tb(7,"ul",14),i.zc(8,v,2,4,"li",15),i.Sb(),i.Qb()}if(2&t){const t=i.cc();i.Cb(4),i.ic("ngForOf",t.sortOptions),i.Cb(4),i.ic("ngForOf",t.aGroups)}}function C(t,e){if(1&t){const t=i.Ub();i.Tb(0,"div",18),i.Tb(1,"input",19,20),i.ac("keyup.enter",function(){return i.tc(t),i.cc().onSearch()}),i.Sb(),i.Tb(3,"button",21),i.ac("click",function(){return i.tc(t),i.cc().onSearch()}),i.Bc(4,"Search"),i.Sb(),i.Tb(5,"button",22),i.ac("click",function(){return i.tc(t),i.cc().onReset()}),i.Bc(6,"Reset"),i.Sb(),i.Sb()}}function y(t,e){if(1&t&&(i.Tb(0,"div",23),i.Ob(1,"app-attachment-item",24),i.Sb()),2&t){const t=e.$implicit;i.Cb(1),i.ic("attachment",t)}}function T(t,e){if(1&t){const t=i.Ub();i.Tb(0,"div",25),i.Tb(1,"app-pager",26),i.ac("pageChanged",function(e){return i.tc(t),i.cc().onPageChanged(e)}),i.Sb(),i.Sb()}if(2&t){const t=i.cc();i.Cb(1),i.ic("pageSize",t.membersParams.pageSize)("totalCount",t.totalCount)}}let P=(()=>{class t{constructor(t){this.membersService=t,this.membersParams=new s,this.sortSelected="atypeAsc",this.sortOptions=[{name:"Type",value:"atypeAsc"},{name:"Type Descending",value:"atypeDesc"},{name:"Group",value:"agroupAsc"},{name:"Group Descending",value:"agroupDesc"}]}ngOnInit(){this.getAttachments(),this.getGroups()}getAttachments(){this.membersService.getAttachments(this.membersParams).subscribe(t=>{this.attachments=t.data,this.membersParams.pageNumber=t.pageIndex,this.membersParams.pageSize=t.pageSize,this.totalCount=t.count},t=>{console.log(t)})}getGroups(){this.membersService.getGroups().subscribe(t=>{this.aGroups=[{aGroup:"All"},...t]},t=>{console.log(t)})}onGroupSelected(t){this.membersParams.aGroup=t,this.membersParams.pageNumber=1,this.getAttachments()}onSortSelected(t){this.membersParams.sort=t,this.getAttachments()}onPageChanged(t){this.membersParams.pageNumber!==t&&(this.membersParams.pageNumber=t,this.getAttachments())}onSearch(){this.membersParams.search=this.searchTerm.nativeElement.value,this.membersParams.pageNumber=1,this.getAttachments()}onReset(){this.searchTerm.nativeElement.value="",this.membersParams=new s,this.getAttachments()}}return t.\u0275fac=function(e){return new(e||t)(i.Nb(l))},t.\u0275cmp=i.Hb({type:t,selectors:[["app-members"]],viewQuery:function(t,e){if(1&t&&i.Fc(d,1),2&t){let t;i.qc(t=i.bc())&&(e.searchTerm=t.first)}},decls:11,vars:7,consts:[[1,"container","mt-3"],[1,"row"],[1,"col-3"],[4,"ngIf"],[1,"col-9"],[1,"d-flex","justify-content-between","allign-items-center","pb-2"],[1,"pt-4",3,"totalCount","pageSize","pageNumber"],["class","form-inline mt-2",4,"ngIf"],["class","col-4 mb-4",4,"ngFor","ngForOf"],["class","d-flex justify-content-center",4,"ngIf"],[1,"text-warning","ml-3","mt-3","mb-4"],[1,"custom-select","mb-3",3,"change"],[3,"value",4,"ngFor","ngForOf"],[1,"text-warning","ml-3"],[1,"list-group","my-3"],["class","list-group-item","style","cursor:pointer",3,"active","value","click",4,"ngFor","ngForOf"],[3,"value"],[1,"list-group-item",2,"cursor","pointer",3,"value","click"],[1,"form-inline","mt-2"],["type","text","placeholder","Search",1,"form-control","mr-2",2,"width","300px",3,"keyup.enter"],["search",""],[1,"btn","btn-outline-primary","my-2",3,"click"],[1,"btn","btn-outline-success","ml-2","my-2",3,"click"],[1,"col-4","mb-4"],[3,"attachment"],[1,"d-flex","justify-content-center"],[3,"pageSize","totalCount","pageChanged"]],template:function(t,e){1&t&&(i.Tb(0,"div",0),i.Tb(1,"div",1),i.Tb(2,"section",2),i.zc(3,S,9,2,"ng-container",3),i.Sb(),i.Tb(4,"section",4),i.Tb(5,"div",5),i.Ob(6,"app-paging-header",6),i.zc(7,C,7,0,"div",7),i.Sb(),i.Tb(8,"div",1),i.zc(9,y,2,1,"div",8),i.Sb(),i.zc(10,T,2,2,"div",9),i.Sb(),i.Sb(),i.Sb()),2&t&&(i.Cb(3),i.ic("ngIf",e.aGroups),i.Cb(3),i.ic("totalCount",e.totalCount)("pageSize",e.membersParams.pageSize)("pageNumber",e.membersParams.pageNumber),i.Cb(1),i.ic("ngIf",e.attachments),i.Cb(2),i.ic("ngForOf",e.attachments),i.Cb(1),i.ic("ngIf",e.totalCount>0))},directives:[a.m,p.a,a.l,u.n,u.s,h,g.a],styles:[""]}),t})();var w=n("tc9g");function O(t,e){if(1&t&&(i.Tb(0,"div",2),i.Tb(1,"div",3),i.Ob(2,"img",4),i.Sb(),i.Tb(3,"div",3),i.Tb(4,"h3"),i.Bc(5),i.Sb(),i.Sb(),i.Tb(6,"div",5),i.Tb(7,"div",6),i.Tb(8,"h4"),i.Bc(9,"Description"),i.Sb(),i.Tb(10,"p"),i.Bc(11),i.Sb(),i.Sb(),i.Sb(),i.Sb()),2&t){const t=i.cc();i.Cb(2),i.jc("src",t.attachment.imageUrl,i.vc),i.jc("alt",t.attachment.aType),i.Cb(3),i.Cc(t.attachment.aType),i.Cb(6),i.Cc(t.attachment.aDesc)}}const G=[{path:"",component:P},{path:":id",component:(()=>{class t{constructor(t,e,n){this.membersService=t,this.activatedRoute=e,this.bcService=n,this.bcService.set("@attachmentDetails"," ")}ngOnInit(){this.loadAttachment()}loadAttachment(){this.membersService.getAttachment(this.activatedRoute.snapshot.paramMap.get("id")).subscribe(t=>{this.attachment=t,this.bcService.set("@attachmentDetails",t.aType)},t=>{console.log(t)})}}return t.\u0275fac=function(e){return new(e||t)(i.Nb(l),i.Nb(r.a),i.Nb(w.c))},t.\u0275cmp=i.Hb({type:t,selectors:[["app-attachment-details"]],decls:2,vars:1,consts:[[1,"container","mt-5"],["class","row",4,"ngIf"],[1,"row"],[1,"col-6"],[1,"img-fluid","w-100",3,"src","alt"],[1,"row","mt-5"],[1,"col-12","ml-3"]],template:function(t,e){1&t&&(i.Tb(0,"div",0),i.zc(1,O,12,4,"div",1),i.Sb()),2&t&&(i.Cb(1),i.ic("ngIf",e.attachment))},directives:[a.m],styles:[""]}),t})(),data:{breadcrumb:{alias:"attachmentDetails"}}}];let k=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.Lb({type:t}),t.\u0275inj=i.Kb({imports:[[r.g.forChild(G)],r.g]}),t})(),x=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.Lb({type:t}),t.\u0275inj=i.Kb({imports:[[a.c,c.a,k]]}),t})()}}]);